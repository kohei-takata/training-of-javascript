# SPECIFICATION

## 制御構文

- 記述された順番に処理を行っていく順次（順接）
- 条件によって処理を分岐する選択
- 特定の処理を繰り返し実行する反復

---

## 条件によって処理を分岐する -if-

```js
if (条件式1) {
  // 条件式1がtrueの場合
} else if (条件式2) {
  // 条件式2がtrueの場合
} else {
  // 条件式1,条件式2共にfalseの場合
}
```

省略記法
```js
if (条件式)
  // 条件式がtrueの場合
else
  // 条件式がfalseの場合
```
ブロックの範囲が不明確になるのでバクの温床になりやすいのでおすすめしない。

---

## 式の値によって処理を分岐する -switch-

```js
switch(条件式) {
  case 値1:
    // 条件式の結果が値1だった場合
    break;
  case 値2:
    // 条件式の結果が2だった場合
    break;
  default:
    // 条件式が今までの値と一致しない場合
    break;
}
```
`break`が省略された場合は処理が中断されず、次の評価も続けて実行されるので意図していない場合は忘れずに`break`を書く。

---

## 条件式によってループを制御する -while/do...while-

前置判断
```js
while(条件式) {
  // 条件式がtrueの場合に実行される
  // 条件式がfalseになるとループが終了する
}
```
条件によっては一度もループが発生しない。<br>

後置判断
```js
do {
  // 条件式がtrueである場合に実行される
  // 条件式がfalseになるとループが終了する
} while (条件式);
```
条件にかかわらず必ず一回はループが発生する。

---

## 無限ループ
永遠に終了しないループのことを無限ループと呼びます。<br>
基本的には無限ループに陥ることはバグにあたります。

```js
let count = 5;
while (count < 5) {
  // 無限ループ
  count++;
}
```

---

## 指定回数だけループ処理する -for-

```js
for (初期化式; ループ継続条件式; 増減式) {
  // ループ内で実行する命令
}
```

1...9までを出力
```js
for (let x = 1; x < 10; x++) {
  console.log(x);
}
```

---

### n数の配列分だけイテレートする

```js
const data = [10, 20, 30];
for (let i = 0; i < data.length; i++) {
  console.log(data[i]);
}
```

---

## 連想配列の要素を順に処理する -for...in-

```js
for (仮変数 in 連想配列) {
  // ループ内で実行する命令
}
```
仮変数は連想配列(オブジェクト)のキーを一時的に格納するための変数です。

```js
const data = { a: 10, b: 20, c: 30 };
for (let key in data) {
  console.log(`key: ${key}, value: ${data[key]}`);
}
// key: a, value: 10
// key: b, value: 20
// key: c, value: 30
```

---

## 配列などを順に処理する -for...of- (ES2015)

```js
for (仮変数 of 列挙可能なオブジェクト) {
  // ループ内で実行する命令
}
```

```js
const data = [10, 20, 30];
for (let val of data) {
  console.log(`${val}`);
}
```
for...inとは違い、仮変数にはキーではなく値が代入されます。

---

## ループをと週でスキップ/中断する -break/continue-
特定の条件でループを強制的に中断させたいケースで利用できます。

### break
1...5までをループする
```js
for (let i = 0; i < 10; i++) {
  console.log(i);
  if (i === 5) {
    break;
  }
}
```
breakは処理を終了させる。

---

### continue
奇数(1,3,5,7,9)のみ表示する
```js
for (let i = 0; i < 10; i++) {
  if (i % 2 === 0) {
    continue;
  }
  console.log(i);
}
```
continueは処理をスキップさせる。

---

## 例外を処理する -try...catch...finaly-

例外とはプログラム処理の中で継続不能なエラーが起こった場合に発生します。<br>
そのような場合にも処理を続行させるために例外を受け止める構文があります。

```js
try {
  // 例外が発生するかもしれない命令
} catch (例外情報を受け取る変数) {
  // 例外が発生したときに実行される命令
} finally {
  // 例外の有無にかかわらず、最終的に実行される命令
}
```

---

```js
try {
  i
} catch (e) {
  console.log(e.message);
} finally {
  console.log('処理が完了しました。');
}
// i is not defined
// 処理が完了しました。
```
エラー発生時にcatchブロックにErrorオブジェクトが変数として引き渡されます。<br>
意図的に例外を発生させる場合は`throw`命令が利用できます。

```js
throw new Error("エラーメッセージ");
```

---

### [オブジェクト](?md=/docs/04-OBJECT-01)
